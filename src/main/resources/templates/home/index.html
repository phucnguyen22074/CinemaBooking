<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/user :: mainContent('Home',~{this :: .span9})}">

<head>
	<title></title>
</head>

<body>
	<div class="span9">
		<!-- hero area start -->
		<section class="hero-area" id="home">
			<div class="container">
				<div class="hero-area-slider">
					<!-- Duyệt qua danh sách phim đang chiếu -->
					<div th:each="movie : ${moviesTrue}" class="row hero-area-slide">
						<div class="col-lg-6 col-md-5">
							<div class="hero-area-content poster-container">
								<img th:src="@{'/assets/images/' + ${movie.imageUrl}}" alt="movie poster"
									class="movie-poster" />
								<a class="popup-youtube btn-trailer"
									th:href="@{'https://www.youtube.com/watch?v=' + ${movie.trailerUrl}}">
									<i class="icofont icofont-play"></i>
								</a>
								<div class="view-details-hover">
									<a class="btn btn-primary custom-details-btn"
										th:href="@{'/movie/details/' + ${movie.movieId}}">Details</a>
								</div>
							</div>
						</div>
						<div class="col-lg-6 col-md-7">
							<div class="hero-area-content pr-50">
								<h2 th:text="${movie.title}"></h2>
								<p style="font-size: 17px;" th:text="${movie.description}"></p>
								<div class="review">
									<div class="author-review">
										<i class="icofont icofont-star"
											th:each="i : ${movie.rating != null ? #numbers.sequence(1, movie.rating) : #numbers.sequence(1, 0)}">
										</i>
									</div>
								</div>
								<div class="movie-genres">
									<h4>Genres:</h4>
									<ul class="genres-list">
										<li th:each="genre : ${movie.genreses}" th:text="${genre.name}"></li>
									</ul>
								</div>
								<div class="movie-duration">
									<h4>Duration:</h4>
									<span th:if="${movie.duration != null}">
										<span th:text="${#numbers.formatInteger(movie.duration / 60, 0)} + 'h '"></span>
										<span th:text="${#numbers.formatInteger(movie.duration % 60, 0)} + 'm'"></span>
									</span>
									<span th:if="${movie.duration == null}">N/A</span>
								</div>
								<div class="movie-release-date">
									<h4>Release Date:</h4>
									<p th:text="${#dates.format(movie.releaseDate, 'dd-MM-yyyy')}"></p>
								</div>
								<!-- Nút Details -->

							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- hero area end -->
		<!-- portfolio section start -->
		<section class="portfolio-area pt-60">
			<div class="container">
				<div class="row flexbox-center">
					<div class="col-lg-6 text-lg-left">
						<div class="section-title">
							<h1><i class="icofont icofont-movie"></i> Good Movies Now Showing</h1>
						</div>
					</div>

				</div>
				<hr />
				<div class="row">
					<div class="col-lg-12">
						<div class="row portfolio-item">
							<div th:each="movie : ${moviesTrue}" class="col-md-3 col-sm-6">
								<div class="single-portfolio">
									<div class="single-portfolio-img">
										<img th:src="@{'/assets/images/' + ${movie.imageUrl}}" alt="portfolio" />

										<!-- Rating hiển thị trong hình -->
										<div class="rating-overlay">
											<span
												th:each="i : ${movie.rating != null ? #numbers.sequence(1, movie.rating) : #numbers.sequence(1, 0)}">
												<i class="icofont icofont-star"></i>
											</span>
										</div>
										<a th:href="@{'https://www.youtube.com/watch?v=' + ${movie.trailerUrl}}"
											class="popup-youtube">
											<i class="icofont icofont-ui-play"></i>
										</a>
									</div>
									<div class="portfolio-content">
										<a th:href="@{'/movie/details/' + ${movie.movieId}}" th:text="${movie.title}"
											class="movie-title"></a>
									</div>

								</div>
							</div>
						</div>
					</div>
				</div>

			</div>
		</section>

		<section class="portfolio-area pt-60">
			<div class="container">
				<div class="row flexbox-center">
					<div class="col-lg-6 text-lg-left">
						<div class="section-title">
							<h1><i class="icofont icofont-movie"></i> Good Movies Coming Soon</h1>
						</div>
					</div>

				</div>
				<hr />
				<div class="row">
					<div class="col-lg-12">
						<div class="row portfolio-item">
							<div th:each="movie : ${moviesFalse}" class="col-md-3 col-sm-6">
								<div class="single-portfolio">
									<div class="single-portfolio-img">
										<img th:src="@{'/assets/images/' + ${movie.imageUrl}}" alt="portfolio" />

										<!-- Rating hiển thị trong hình -->
										<div class="rating-overlay">
											<span
												th:each="i : ${movie.rating != null ? #numbers.sequence(1, movie.rating) : #numbers.sequence(1, 0)}">
												<i class="icofont icofont-star"></i>
											</span>
										</div>
										<a th:href="@{'https://www.youtube.com/watch?v=' + ${movie.trailerUrl}}"
											class="popup-youtube">
											<i class="icofont icofont-ui-play"></i>
										</a>
									</div>
									<div class="portfolio-content">
										<a th:href="@{'/movie/details/' + ${movie.movieId}}" th:text="${movie.title}"
											class="movie-title"></a>
									</div>

								</div>
							</div>
						</div>
					</div>
				</div>

			</div>
		</section>
		<!-- portfolio section end -->
		<!-- video section start -->
		<section class="video ptb-90">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<div class="section-title pb-20">
							<h1><i class="icofont icofont-film"></i> Trailers & Videos</h1>
						</div>
					</div>
				</div>
				<hr />
				<div class="row">
					<div class="col-md-12">
						<div class="video-slider mt-20">
							<div class="video-area" th:each="trailer : ${movies}">
								<img th:src="@{'/assets/images/' + ${trailer.imageUrl}}" alt="video" />
								<a th:href="@{'https://www.youtube.com/watch?v=' + ${trailer.trailerUrl}}" class="popup-youtube">
									<i class="icofont icofont-ui-play"></i>
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section><!-- video section end -->
	</div>
</body>

</html>